services:
  backend:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: Data
    ports:
      - "49153:80"
    volumes:
      - ./:/var/www/html:delegated
      - laravel_storage:/var/www/html/storage
      - laravel_bootstrap_cache:/var/www/html/bootstrap/cache
    restart: unless-stopped

  worker:
    build:
      context: .
      dockerfile: Dockerfile.worker
    container_name: Data_Worker
    volumes:
      - ./:/var/www/html:delegated
      - laravel_storage:/var/www/html/storage
      - laravel_bootstrap_cache:/var/www/html/bootstrap/cache
    restart: unless-stopped

volumes:
  laravel_storage:
  laravel_bootstrap_cache:
